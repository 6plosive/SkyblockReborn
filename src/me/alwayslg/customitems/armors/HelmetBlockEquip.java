package me.alwayslg.customitems.armors;import me.alwayslg.SkyblockReborn;import me.alwayslg.customitems.CustomArmor;import me.alwayslg.customitems.CustomItem;import me.alwayslg.customplayers.CustomPlayer;import me.alwayslg.customplayers.CustomPlayerManager;import org.bukkit.entity.Player;import org.bukkit.event.EventHandler;import org.bukkit.event.Listener;import org.bukkit.event.inventory.InventoryClickEvent;import org.bukkit.event.inventory.InventoryType;import org.bukkit.event.player.PlayerInteractEvent;import org.bukkit.inventory.ItemStack;import org.bukkit.inventory.meta.ItemMeta;import org.bukkit.scheduler.BukkitRunnable;import static me.alwayslg.customitems.CustomArmor.isHelmet;public class HelmetBlockEquip implements Listener {    // Equip helmet in cursor if player clicks on helmet slot in his inventory and the current item is a custom helmet    @EventHandler    public void onInventoryClick(InventoryClickEvent event) {        //Helmet slot is 5        if(event.getSlotType()==InventoryType.SlotType.ARMOR && event.getSlot()==39){            ItemStack item = event.getCursor();            Player player = (Player) event.getWhoClicked();            // Check if the player unequips the helmet, if so, update health//            updateHealth(player);//            player.sendMessage("Clicked on helmet slot");            new BukkitRunnable() {                @Override                public void run() {                    // Your code here                    if(isHelmet(item)){//                        player.sendMessage("Equipping helmet: "+item.getItemMeta().getDisplayName());//                        player.getOpenInventory().getBottomInventory().setItem(39, item);                        // set player cursor to current helmet before equip. if player has a helmet, it will be swapped                        ItemStack currentHelmet = player.getInventory().getHelmet(); // null if no helmet                        player.getInventory().setHelmet(item);//                event.setCurrentItem(null);                        event.setCursor(currentHelmet);                        // update health//                        updateHealth(player);                    }                }            }.runTaskLater(SkyblockReborn.getInstance(), 1L);        }else if(event.getClickedInventory().getType().equals(InventoryType.PLAYER) && event.isShiftClick()) {            ItemStack item = event.getCurrentItem();            Player player = (Player) event.getWhoClicked();            if (isHelmet(item)) {                if (player.getInventory().getHelmet() == null) {                    player.getInventory().setHelmet(item);                    event.setCurrentItem(null);                    // update health//                    updateHealth(player);                }            }        }    }    // Equip helmet outside inventory if player right clicks with a custom helmet    @EventHandler    public void onRightClick(PlayerInteractEvent event){        Player player = event.getPlayer();        ItemStack item = player.getItemInHand();        // Check if the player right-clicked and if they are holding the sword        if(item==null || !item.hasItemMeta()) return;        ItemMeta meta = item.getItemMeta();        if(meta==null) return;        if(!isHelmet(item)) return;        CustomArmor customItem = new CustomArmor(item);        if(event.getAction().toString().contains("RIGHT") && customItem.getItemType().toString().contains("HELMET")) {            event.setCancelled(true);//            player.sendMessage("Equipping helmet: "+item.getItemMeta().getDisplayName());            // If player head doesnt have a helmet currently            if(player.getInventory().getHelmet()==null){                player.getInventory().setHelmet(item);                player.setItemInHand(null);                // update health//                updateHealth(player);            }        }    }}